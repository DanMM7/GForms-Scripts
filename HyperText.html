<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  </head>

  <body>

    <h2>A basic HTML</h2>
    
    <div id="selection">
    <select name='firstLevelParts' class='filterElements'>
    <option value = '0'>(Select category)</option> <!-- added -->
    <option value = '1'>Terræn</option>
    <option value = '2'>Fundamentsystem</option>
    <option value = '3'>Vægsystem</option>
    <option value = '4'>Dæksystem</option>
    <option value = '5'>Tagsystem</option>
    </select>
      
    <select name='firstLevelPartsB'  class='filterElements'>
    <option value = '0'>(Select category)</option> <!-- added -->
    <option value = '1'>Terræn</option>
    <option value = '2'>Fundamentsystem</option>
    <option value = '3'>Vægsystem</option>
    <option value = '4'>Dæksystem</option>
    <option value = '5'>Tagsystem</option>
    </select>

    <select name='secondLevelParts' id='select'>
    <option value='1'>Jordprofil</option>
    <option value='2'>Befæstet Areal</option>
    <option value='3'>Beplantning</option>
    <option value='1'>Fundamentkonstruktion</option>
    <option value='2'>Bærelag</option>
    <option value='3'>Åbning</option>
    <option value='4'>Lukning</option>
    <option value='5'>Inddækning</option>
    <option value='6'>Afslutning</option>
    <option value='7'>Afskærmning</option>
    <option value='8'>Fuge</option>
    <option value='9'>Samling</option>
    <option value='10'>Overflade</option>
    </select>  
    </div>

    <script>
      $(function() {
        $('#select').filterByValues( $('.filterElements') );
        $('.filterElements').change();
      });  
  
  
      jQuery.fn.filterByValues = function(masterSelects) {
        return this.each(function() {
          var select = this;
          var options = [];
          $(select).find('option').each(function() {
            options.push({value: $(this).val(), text: $(this).text()});
          });
          $(select).data('options', options);
          
          masterSelects.bind('change', function() {
            var options = $(select).empty().scrollTop(0).data('options');
            var vals=[];
            $(masterSelects).each(function(i,e){
              vals.push('^'+$.trim($(e).val())+'$' );
            });
            var search = vals.join('|');
            var regex = new RegExp(search,'gi');
  
            $.each(options, function(i) {
              var option = options[i];
              if(option.value.match(regex) !== null) {
                $(select).append(
                  $('<option>').text(option.text).val(option.value)
                );
              }
            });
          });
          
        });
      };
    </script>
   
  </body>
</html>



